# Hana-blog

25.1.31 - OT 

til 
공부한 개념 확실히 쓰기 


My First Day at Bootcamp 
- OT
  - 전반적인 채용시장
  - 커리큘럼
  - 채용전략
    - 개인의 매력 향상시킨다

//
//
2/2 

블록 + 체인 
데이터 전체가 아닌 해시값만 전송해 타임스템프를 받고 이를 디지털 서명으로 보증받는다. 

블록체인 
- Blockchain = Block + Chain 
- 데이터는 블록에 저장되어 있고, 블록들은 시간 순서대로 연결되어 있다 (새 블록은 바로 이전 블록의 링크를 포함하도록 하는 방식으로)  
- 데이터가 블록에 저장될 때는 데이터 그대로 저장되지 않고 해시로 변환되어 타임스탬프를 부여받고, 이를 디지털 서명으로 보증받고 저장된다. 

화폐로서의 비트코인 
- 비트코인은 다음 화폐 3대 요소를 갖추고 있는가?: (1) 교환의 매개체, (2) 가치 척도의 기능, (3) 가치 저장의 기능 
- (1) 교환의 매개체: 아직 대부분의 사람들은 실생활에서 비트코인을 사용해 교환/거래 하지 않는다 
- (2) 가치 척도의 기능: 스테이블 코인의 등장으로 가치 척도가 어느정도 가능해졌지만 여전히 높은 가격 변동성으로 인해 가치 척도의 기능을 온전히 해내기 어렵다 
- (3) 가치 저장의 기능: 현재 가치 저장 가능. 우리나라에서 비트코인은 과세 대상인 가상자산으로 분류되고 있으며 일부 나라에서는 법정화폐를 대신해 사용되기 시작했다. 

블록체인 엔지니어로서 고민할 부분 
- 마트에세 비트코인으로 계산하기 어렵다. 사용성 향상하는 방법. 

Web3 사업할 때 살펴볼 부분 
- STO(Security Token Offering). 블록체인 기술을 활용해 자금 모집하는 방법 중 하나. 자산을 토큰화 하는 것.  
- 가상자산 관련 법룰, ISMS 에 대해 잘 아는게 중요함. 나라마다 규제가 더하거나 덜하기도 함. 

신용 창출
- 싱용창출로 인한 경제 대공황이 있었고 이에 대한 정부의 대응책은 양적 완화였다. 
- 양적완화는 금융위기 극복과 경제 부양에 큰 역할을 했지만 자사 버블, 인플레이션, 부의 양극화, 금융 불안정, 신흥국의 외환위기 위험 증가 등의 부작용이 있었다. 

사이퍼 펑크 
- 개인정보 관련 정부와 대기업의 행보에 반해 개인의 프라이버시를 중요시하는 사람들이 ‘시이버 펑크’라는 단체를 만들어 탈 중앙화된 문화를 옹호하는 사회운동 시작 
- 사토시 나카모토의 비트코인 백서는 사이버 펑크에 보낸 이메일를 통해 처음 세상에 선보이게 됨 
-  사토시는 우후 사이버 펑크 멤버들과 소통하며 비트코인 개발함

비트코인 제네시스 블록에 기록된 메세지
- The Times 03/Jan/2009 Chancellor on brink of second bailout for banks 
- 금융위기에서 영국 정부의 은행 구제금융에 대한 비판적 메세지. 
- 비트코인 탄생의 목적: (1) 중앙화 금융 시스템의 블안정성과 문제점 비판, (2) 탈 중앙회 금융의 대안 제시 

블록체인은 디지털 세상에서 데이터의 신뢰를 만들어내는 신뢰의 기술임. 

* 여러분도 여러분만의 문제 인식과 그 해결을 위한 블록체인 활용법에 대해 스케치 해보시기 바랍니다. 


//
//
2/4
해시와 디지텉 서명 

블록체인에서는 각 타임스탬프가 이전 타임스탬프의 해시 값을 포함하도록 설계됨. 

SHA-256 알고리즘 작동 과정 
1. 입력 데이터 준비 : 입력 데이터는 고정된 크기(512비트 블록)로 처리되고 필요한 경우 패딩을 통해 데이터를 맞춤 
2. 패딩
3. 초기 해시 값 설정 : SHA-256은 8개의 32비트 초기 해시 값을 정의함. 이 값들은 암호학적 연구를 통해 설정된 상수임. 이 값들이 초기값이 되어 64번의 Round를 거친 후 나오게 됨. 
4. 메시지 처리 : 메시지 스캐줄 생성 > 해시 압축 함수(라운드 연산) 
5. 최종 출력 


블록 해시 값 생성 인자 
- 이전 블록의 해시 값
- 머클 루트: 블록 내 모든 트랜잭션의 요약 값 
- 난이도 목표: 
- 논스: 작업 증명을 완료하기 위해 반복적으로 변경되는 값 

블록 해시 역할: 블록 간 연결성 유지 & 변경된 데이터 탐지 

워드 = 단위 
코스모스 불록체인 - 라운드 

비트코인과 이더리움 모두 비대칭 암호화를 사용해 개인 키와 공개 키 생성. 모두 타원 곡선 암호화(ECC)를 기반으로 함. 

서명의 역할: 문서의 진위성과 무결성 보증 
서명: 나는 이 문서를 확인하고, 문서의 내용에 동의하며, 문서가 변조되지 않았음을 보증한다는 의미 전달해줌 

디지털 서명 
- 개인키를 사용해 서명: 서명 주체가 나인 것을 인증하고 데이터 변조되지 않았음을 증명 
-  수신자는 공개키로 서명을 검증해 다음을 확인할 수 있음: 무결성 보증과 진위성 확인 
- 무결성 보증: 데이터가 전송 중 변조되지 않았는지 
- 진위성 확인: 데이터를 서명한 사람이 신뢰할 수 있는 발신자인지 

디지털 서명의 동작방식 
- 해싱 
- 서명: 송신자는 개인티로 해시 값에 서명함. 이 서명은 암호화된 해시값으로 서명자는 해당 데이터의 무결성과 진위성 보증 (디지털 서명은 개인키로 암호화 되었기 때문에 공개키로 복호화 할 수 있고, 복호화하면 원본 데이터의 해시 값이 나옴) 
- 검증 : 수신자는 송신자의 공개키로 디지털 서명을 복호화 함. 검증 과정에서 다음 두 데이터 비교. 
- (1) 송신자의 공개키로 디지털 서명을 복호화 해서 원본 데이터의 해시값 구함
- (2) 원본 데이터를 해싱해 데이터의 해시값을 구함. 위 해시값과 같다면 데이터가 정상적으로 송신자에 의해 서명된 것임. 

디지털 서명 시스템의 필요조건: 
- 알고리즘 : 신뢰할 수 있고 널리 사용되어 그 안전성이 입증된 해시 함수(SHA-256, SHA-3 등)와 암호화 알고리즘(RSA, ECDSA)을 사용해야 함 
- 구현: 알고리즘 자체는 안전하더라도 소프트웨어나 하드웨어 구현상의 취약점이 보안 사고로 이어질 수 있음 
- 개인 키 : 개인키 유출이나 손상 > 진위성과 부인 방지 속성 무효화됨 

타임스탬프에서 디지털 서명의 사용 목적: 
- (1) 데이터 무결성 증명(특정 시점 이후 변하지 않았음, 디지털 서명으로 변조 여부 검증), 
- (2) 시간 인증(TSA가 인증), 
- (3) 신뢰 제공(인증 기관의 신뢰를 바탕으로 데이터 진위 보증) 

디지털 서명의 사용과정 
- (1) 데이터 해싱
- (2) 타임스탬프 생성 (TSA에서 서명해 유저에게 반환) 
- (3) 검증: 데이터 해싱 > 반환된 타임스탬프의 디지털 서명과 비교해 TSA의 공개키를 사용해 서명이 유효한지 검증하고 데이터 해시 값이 타임스탬프에 기록된 해시값과 동일한지 확인 > 데이터가 특정 시점 이후 변경되지 않았음을 증명 

디지털 서명에서 사용된 알고리즘 
(1) RSA 또는 DSA
      - TSA는 개인키로 서명하고 이를 공개 키로 검증 가능하게 함 
(2) 해시 알고리즘 
      - 데이터 해시 값 생성 위해 SHA-1 또는 MD5와 같은 해시 함수가 사용됨 

비트코인에서 디지털 서명의 역할: 
(1) 트랜잭션 무결성 보장 
(2) 소유권 증명 
(3) 탈중앙화된 검증 

비트코인에서 디지털 서명의 생성 및 검증 과정: 
(1) 서명 생성: 트랜잭션 데이터 준비 > 해싱 > 송신자의 개인키 사용한 해시 값 서명 > 서명과 트랜잭션 데이터 전송  
(2) 서명 검증: 검증 노드가 트랜잭션 데이터 해싱 >  공개 키를 사용한 검증 (서명이 유효한지, 송신자 개인키로 생성된 서명인지, 트랜젝션 데이터가 변조되지 않았는지 확인) > 검증 결과 (서명이 유효하면 네트워크에 추가) 
* 만약 두 해시값이 다르다면, 송신자의 개인키로 생성된 서명이 아니거나 데이터가 변조되었을 가능성. 

디지털 서명의 예시: 
- 앨리스가 밥에게 0.1 BTC 보내려는 트랜잭션 생성 > 트랜잭션 해시 값을 자신의 개인 키로 서명 > 서명된 트랜젝션을 네트워크에 전송 >> 
- 네트워크의 노드가 이 트랜잭션 데이터를 해싱해서 동일한 해시 값 생성 > 공개 키를 사용해 서명 검증 > 서명이 유효하면 트랜젝션을 블록체인에 추가 

디지털 서명의 장점: (1) 보안성(위조 불가능), (2) 무결성 보장(만약 데이터 변조되면 서명이 유효하지 않음), (3) 부인 방지, (4) 신뢰 기반 탈중앙화

비트코인에서 디지털 서명 활용의 특징 
- ECDSA 사용:
- 공개 키 -> 주쇼 변환 (SHA-256 + RIPMED-160) 
- 비교적 작은 서명 크기(64비트)

//
//
2/5

블록 구조: 헤더와 바디 
블록 헤더: 블록에 대한 메타데이터 포함; 블록의 고유 식별자 역할 
- 구성: 이전 블록 해시(연결성), 머클 루트(루트 해시 값), 타임스탬프, 난이도 타켓, 논스, 버전
블록 바디: 코인베이스 트랜잭션, 일반 트랜잭션
- 트랜젝션 데이터 구조: 입력(Input)과 출력(Output)으로 구성됨.  

입력(Input):
- 이전 tnx의 출력(UTXO) 참조. 송신자의 서명이 포함됨. 
- 구성 요소: 이전 tnx의 해시 값, 지출할 UTXO, 스크립트 길이, 스크립트 서명, 시퀀스 번호 

출력(Output): 
- 수신자에게 전달되는 비트코인 정보 포함 
- 구성 요소: 출력 금액(단위는 사토시; 1 BTC = 10^8 사토시), 스크립트 길이, 잠금 스크립트 

트랜잭션 흐름
1. 송신자가 입력에서 이전 트랜잭션 출력(UTXO)을 참조 
2. 해당 입력에 개인 키로 디지털 서명을 생성해 서명 스크립트(ScriptSig)에 포함 
3. 송신자가 수신자의 주소를 출력에 지정하여 잠금 스크립트(ScriptPubKey) 생성 
4. 수신자는 공개키와 서명을 제공해 잠금 스크립트 해제
5. 노드가 입력과 출력= 검증 

계좌에 10,000원이 있음. 밥에게 3,000원을 송금. 
- 10,000의(UTXO) 상태가 “사용됨(입력, Input)”으로 변함
- 밥에게 3,000(UTXO)이 “미사용됨(출력, Output)”으로 생성됨 
-  수수료 뺀 나머지 69999.999원(UTOX)이 “미사용됨(출력, Output)”으로 생성됨 

비트코인은 필요한 금액만큼 UTXO을 소모하고 잔액은 새로운 UTXO로 생성됨. 

UTOX
- 이전 트랜잭션에서 생성되었지만 아직 소비되지 않은 출력 
- 비트코인 네트워크에서 사용자의 잔고와 트랜잭션을 추적하는 기본 단위
- 이 합계가 내 잔액  
- 역할: “이중지불” 방지 
          - 이미 소비된 UTXO은 다시 사용할 수 없음 

이더리움은 
- 계정기반 

비트코인에서는 반복문 쓸 수 없음. > 스마트 컨트랙트 하기가 제한적임. 
이더리움은 반복문 가능하지만 수수료 도입. 공격할 때 마다 가스비 쓰도록. 

OP 코드로 각 트랜잭션이 올바르게 작동하는지 검증. 
- 소유자 확인, 출력 주소와 금액 확인, 다중 서명 및 공개 키 변조 방지

비트코인 노드 운용해보기 실습 
- Homebrew와 Bitcoin Core 설치 
- 비트코인 데이터를 저장할 디렉토리 생성 및 이동 > 비트코인 설정 파일 생성 
- 테스트넷 모드에서 다음 내용 입력: regtest(테스트용으로 로컬에서 운영하겠음), server, rpcuser, rpcpassword, datadir, fallbackfee 
- 비트코인 데몬 실행해 네트워크 시작 
- 테스트넷용 지갑주소 생성 : bitcoin-cli -conf=(경로)/bitcoin.conf getnewaddress
- 블록 채굴 : bitcoin-cli -conf=(경로)/bitcoin.conf generatetoaddress 101 
- 송금 
- 트랜잭션 확정을 위해 블록 생성(채굴): bitcoin-cli -conf=(경로)/bitcoin.conf generatetoaddress 10 (지갑주소) 
- 비트코인 데몬 종료



